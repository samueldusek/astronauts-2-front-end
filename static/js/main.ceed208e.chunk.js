(this["webpackJsonpastronauts-2-front-end"]=this["webpackJsonpastronauts-2-front-end"]||[]).push([[0],{117:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(12),o=a.n(s),i=(a(117),a(19)),c=a(9),l=a(15),u=a(28),d=a(37),m=a.n(d),j=a(53),b=a(29),h=a.n(b),p="https://api-astronauts.herokuapp.com/api/",x=function(e,t){var a=Object(r.useState)(e),n=Object(c.a)(a,2),s=n[0],o=n[1];return Object(r.useEffect)((function(){function e(){return(e=Object(j.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h()({method:"get",baseURL:p,url:"/astronauts",headers:{jwtToken:window.localStorage.getItem("token")}}),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t&&function(){return e.apply(this,arguments)}().then((function(e){var t=e.data.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{birthday:new Date(e.birthday)})}));o(t)})).catch((function(e){console.log(e)}))}),[t]),{astronauts:s,setAstronauts:o,addAstronaut:function(e){var t=[].concat(Object(u.a)(s),[e]);o(t)},deleteAstronaut:function(e){var t=s.filter((function(t){return t._id!==e}));o(t)},editAstronaut:function(e){var t=s.map((function(t){return t._id===e._id?e:t}));o(t)}}},g=function(){var e={type:"",text:""},t=Object(r.useState)(e),a=Object(c.a)(t,2),n=a[0],s=a[1],o=Object(r.useState)(!1),i=Object(c.a)(o,2),l=i[0],u=i[1];return[l,n,u,s,function(){s(e),u(!1)}]},O=a(217),f=a(220),v=a(224),w=a(223),y=a(219),N=a(221),S=a(222),k=a(167),C=a(218),I=a(225),T=a(96),L=a.n(T),A=a(95),W=a.n(A),D=a(216),q=a(16),U=a(234),F=a(215),z=a(213),E=a(214),H=a(212),M=a(2);var G=function(e){var t=e.open,a=e.handleClose,r=e.handleDelete,n=e.astronaut;return Object(M.jsxs)(U.a,{open:t,onClose:a,transitionDuration:10,children:[Object(M.jsx)(H.a,{id:"alert-dialog-title",children:"Deleting ".concat(n.firstName," ").concat(n.lastName)}),Object(M.jsx)(z.a,{children:Object(M.jsx)(E.a,{id:"alert-dialog-description",children:"Do you really want to delete ".concat(n.firstName," ").concat(n.lastName,"?")})}),Object(M.jsxs)(F.a,{children:[Object(M.jsx)(D.a,{onClick:a,color:"primary",children:"Cancel"}),Object(M.jsx)(D.a,{onClick:r,color:"primary",variant:"contained",children:"Delete"})]})]})},P={root:{flexGrow:1,marginBottom:"2rem"},table:{minWidth:650},tableContainer:{margin:"auto",marginTop:"2rem"},tableHeader:{backgroundColor:"#3F3D56"},tableHeaderCell:{color:"white",fontWeight:"bold"},buttonContainer:{marginTop:"1rem",display:"flex",justifyContent:"end"}},R=Object(O.a)((function(){return P}));var _=function(e){var t=R(),a=Object(r.useState)(!1),n=Object(c.a)(a,2),s=n[0],o=n[1],i=Object(r.useState)({}),l=Object(c.a)(i,2),u=l[0],d=l[1],m=e.astronauts,j=e.deleteAstronaut,b=function(){o(!1),d({})};return Object(M.jsxs)("div",{className:t.root,children:[Object(M.jsxs)(C.a,{maxWidth:"md",children:[Object(M.jsx)(y.a,{component:k.a,className:t.tableContainer,children:Object(M.jsxs)(f.a,{className:t.table,"aria-label":"simple table",children:[Object(M.jsx)(N.a,{className:t.tableHeader,children:Object(M.jsxs)(S.a,{children:[Object(M.jsx)(w.a,{className:t.tableHeaderCell,children:"#"}),Object(M.jsx)(w.a,{className:t.tableHeaderCell,children:"Firstname"}),Object(M.jsx)(w.a,{className:t.tableHeaderCell,children:"Lastname"}),Object(M.jsx)(w.a,{className:t.tableHeaderCell,children:"Birthday"}),Object(M.jsx)(w.a,{className:t.tableHeaderCell,children:"Superpower"}),Object(M.jsx)(w.a,{className:t.tableHeaderCell,children:"Options"})]})}),Object(M.jsx)(v.a,{children:m.map((function(e,t){return Object(M.jsxs)(S.a,{hover:!0,children:[Object(M.jsx)(w.a,{component:"th",scope:"row",children:t+1}),Object(M.jsx)(w.a,{children:e.firstName}),Object(M.jsx)(w.a,{children:e.lastName}),Object(M.jsx)(w.a,{children:e.birthday.toLocaleString("en-GB",{timeZone:"UTC"}).slice(0,10)}),Object(M.jsx)(w.a,{children:e.superpower}),Object(M.jsxs)(w.a,{children:[Object(M.jsx)(I.a,{"aria-label":"edit",component:q.b,to:"/astronauts/".concat(e._id),children:Object(M.jsx)(W.a,{})}),Object(M.jsx)(I.a,{"aria-label":"delete",onClick:function(){return function(e){o(!0),d(e)}(e)},children:Object(M.jsx)(L.a,{})})]})]},e._id)}))})]})}),Object(M.jsx)(C.a,{maxWidth:!1,disableGutters:!0,className:t.buttonContainer,children:Object(M.jsx)(D.a,{color:"primary",variant:"contained",component:q.b,to:"/astronauts/add",children:"Add astronaut"})})]}),Object(M.jsx)(G,{open:s,handleClose:b,astronaut:u,handleDelete:function(){return j(u._id),void b()}})]})},B=a(226),V=a(227),J=a(102),K=a.p+"static/media/logo2.9a5711c6.svg",Z=a(8),Q=function(e){return"@media (max-width: ".concat({xs:"575.98px",sm:"767.98px",md:"991.98px",lg:"1199.98px",xl:"1600px"}[e],")")},X={root:Object(Z.a)({},Q("sm"),{height:"80px"}),navbar:{height:"100%",backgroundColor:"white"},toolbar:Object(Z.a)({},Q("sm"),{flexDirection:"column",justifyContent:"center"}),title:Object(Z.a)({color:"rgba(0, 0, 0, 0.87)",flexGrow:1,display:"flex",textTransform:"uppercase",letterSpacing:"0.3rem"},Q("sm"),{marginTop:"0.2rem"}),navImage:{maxHeight:"25px",marginLeft:"0.4rem"},buttons:Object(Z.a)({},Q("xs"),{width:"100%",display:"flex",justifyContent:"space-around"}),button:Object(Z.a)({marginLeft:"1rem"},Q("xs"),{fontSize:"0.65rem",marginLeft:"0rem"})},Y=Object(O.a)((function(){return X}));var $=function(e){var t=e.isUserLoggedIn,a=e.logout,r=Y();return Object(M.jsx)("div",{className:r.root,children:Object(M.jsx)(B.a,{position:"static",className:r.navbar,children:Object(M.jsxs)(V.a,{className:r.toolbar,children:[Object(M.jsxs)(J.a,{variant:"h6",className:r.title,children:["Astronauts",Object(M.jsx)("img",{src:K,alt:"Astronaut and spaceship.",className:r.navImage})]}),t&&Object(M.jsxs)("div",{className:r.buttons,children:[Object(M.jsx)(D.a,{className:[r.button,r.buttonFirst].join(" "),color:"primary",variant:"contained",component:q.b,to:"/astronauts",children:"All astronauts"}),Object(M.jsx)(D.a,{className:r.button,color:"primary",variant:"contained",component:q.b,to:"/astronauts/add",children:"Add astronaut"}),Object(M.jsx)(D.a,{className:r.button,color:"primary",variant:"contained",component:q.b,to:"/",onClick:function(){return a()},children:"Logout"})]}),!t&&Object(M.jsxs)("div",{className:r.buttons,children:[Object(M.jsx)(D.a,{className:r.button,color:"primary",variant:"contained",component:q.b,to:"/register",children:"Sign up"}),Object(M.jsx)(D.a,{className:r.button,color:"primary",variant:"contained",component:q.b,to:"/login",children:"Login"})]})]})})})},ee=function(e,t){var a=Object(r.useState)(e),n=Object(c.a)(a,2),s=n[0],o=n[1],i=Object(r.useState)(t),l=Object(c.a)(i,2),u=l[0],d=l[1];return[s,function(e){o(e.target.value),d(!1)},function(){o(""),d("")},u,d]},te=a(230),ae=a(97),re={root:{flexGrow:1},paper:{maxWidth:"450px",margin:"2rem auto",padding:"1rem"},image:{width:"80%",marginLeft:"10%",marginTop:"1rem"}},ne=Object(O.a)((function(){return re}));var se=function(e){var t=Object(r.useState)(""),a=Object(c.a)(t,2),n=a[0],s=a[1],o=e.handleAstronaut,i=e.history,l=e.astronauts,u=(e.match.params||"").id,d=ne(),m="",j="",b="",h="",p=l.find((function(e){return e._id===u}))||!1;p&&(m=p.firstName,j=p.lastName,b=p.birthday.toISOString().slice(0,10),h=p.superpower);var x=ee(m,!1),g=Object(c.a)(x,5),O=g[0],f=g[1],v=g[2],w=g[3],y=g[4],N=ee(j,!1),S=Object(c.a)(N,5),C=S[0],I=S[1],T=S[2],L=S[3],A=S[4],W=ee(b,!1),q=Object(c.a)(W,5),U=q[0],F=q[1],z=q[2],E=q[3],H=q[4],G=ee(h,!1),P=Object(c.a)(G,5),R=P[0],_=P[1],B=P[2],V=P[3],Z=P[4];return Object(M.jsx)("div",{className:d.root,children:Object(M.jsx)(k.a,{className:d.paper,elevation:3,children:Object(M.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=new Date(U),a={firstName:O,lastName:C,birthday:t,superpower:R},r=Object(ae.astronautValidation)(a).error;if(r){var n=r.details[0].context.key;"firstName"===n?y(!0):"lastName"===n?A(!0):"birthday"===n?H(!0):Z(!0),s(r.details[0].message)}else o(a,u),v(),T(),z(),B(),i.push("/astronauts")},children:[Object(M.jsx)(J.a,{component:"h1",variant:"h4",align:"center",children:"Add new team member"}),Object(M.jsx)("img",{className:d.image,src:K,alt:"Astronaut and spaceship."}),Object(M.jsx)(te.a,{autoFocus:!0,required:!0,label:"Firstname",onChange:f,value:O,variant:"outlined",margin:"normal",fullWidth:!0,placeholder:"Enter the firstname.",error:w,helperText:w&&n}),Object(M.jsx)(te.a,{required:!0,label:"Lastname",onChange:I,value:C,variant:"outlined",margin:"normal",fullWidth:!0,placeholder:"Enter the lastname.",error:L,helperText:L&&n}),Object(M.jsx)(te.a,{id:"date",label:"Birthday",type:"date",value:U,onChange:F,variant:"outlined",margin:"normal",fullWidth:!0,InputLabelProps:{shrink:!0},error:E,helperText:E&&n}),Object(M.jsx)(te.a,{required:!0,label:"Superpower",onChange:_,value:R,variant:"outlined",margin:"normal",fullWidth:!0,placeholder:"Enter the superpower.",error:V,helperText:V&&n}),Object(M.jsx)(D.a,{fullWidth:!0,type:"submit",variant:"contained",color:"primary",style:{marginTop:"0.5rem"},children:"Save astronaut"})]})})})},oe=a(60),ie={root:{flexGrow:1},paper:{maxWidth:"450px",margin:"2rem auto",padding:"1rem"},image:{width:"80%",marginLeft:"10%"}},ce=Object(O.a)((function(){return ie}));var le=function(e){var t=e.setIsMessage,a=e.setMessage,n=ce(),s=Object(r.useState)(""),o=Object(c.a)(s,2),i=o[0],u=o[1],d=ee("",!1),b=Object(c.a)(d,5),x=b[0],g=b[1],O=(b[2],b[3]),f=b[4],v=ee("",!1),w=Object(c.a)(v,5),y=w[0],N=w[1],S=(w[2],w[3]),C=w[4],I=ee("",!1),T=Object(c.a)(I,5),L=T[0],A=T[1],W=(T[2],T[3]),q=T[4],U=ee("",!1),F=Object(c.a)(U,5),z=F[0],E=F[1],H=(F[2],F[3]),G=F[4],P=Object(r.useState)(!1),R=Object(c.a)(P,2),_=R[0],B=R[1],V=function(){var e=Object(j.a)(m.a.mark((function e(r){var n,s,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),n=Object(oe.registerValidation)({username:x,email:y,password:L,passwordConfirmation:z}),!(s=n.error)){e.next=22;break}if("username"!==(o=s.details[0].context.key)){e.next=8;break}f(!0),e.next=19;break;case 8:if("email"!==o){e.next=12;break}C(!0),e.next=19;break;case 12:if("password"!==o){e.next=17;break}return q(!0),e.abrupt("return",u("Password has to have at least 5 characters."));case 17:return G(!0),e.abrupt("return",u("Entered password in not the same as password above."));case 19:u(s.details[0].message),e.next=23;break;case 22:h()({method:"post",baseURL:p,url:"/users/register",data:{username:x,email:y,password:L,passwordConfirmation:z}}).then((function(e){var r=e.data.success;r&&(a({type:"success",text:r.message}),t(!0)),B(!0)})).catch((function(e){var t=e.response.data.error;"email"===t.key?C(!0):"username"===t.key&&f(!0),u(t.message)}));case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsx)("div",{className:n.root,children:Object(M.jsxs)(k.a,{className:n.paper,elevation:3,children:[Object(M.jsxs)("form",{onSubmit:V,children:[Object(M.jsx)(J.a,{component:"h1",variant:"h4",align:"center",children:"Register and start recording your astronauts"}),Object(M.jsx)("img",{className:n.image,src:K,alt:"Astronaut and spaceship."}),Object(M.jsx)(te.a,{autoFocus:!0,required:!0,label:"Username",onChange:g,value:x,variant:"outlined",margin:"normal",fullWidth:!0,placeholder:"Choose your username.",error:O,helperText:O&&i}),Object(M.jsx)(te.a,{required:!0,label:"Email",onChange:N,value:y,type:"email",variant:"outlined",margin:"normal",fullWidth:!0,placeholder:"Enter your email.",error:S,helperText:S&&i}),Object(M.jsx)(te.a,{required:!0,label:"Password",onChange:A,value:L,type:"password",variant:"outlined",margin:"normal",fullWidth:!0,placeholder:"Enter your password.",error:W,helperText:W&&i}),Object(M.jsx)(te.a,{required:!0,label:"Password confirmation",onChange:E,value:z,type:"password",variant:"outlined",margin:"normal",fullWidth:!0,placeholder:"Enter your password again.",error:H,helperText:H&&i}),Object(M.jsx)(D.a,{fullWidth:!0,type:"submit",variant:"contained",color:"primary",style:{marginTop:"0.5rem"},children:"Register"})]}),_&&Object(M.jsx)(l.a,{to:"/login"})]})})},ue={root:{flexGrow:1},paper:{maxWidth:"450px",margin:"2rem auto",padding:"1rem"},image:{width:"80%",marginLeft:"10%",marginTop:"1rem"}},de=Object(O.a)((function(){return ue}));var me=function(e){var t=e.setIsUserLoggedIn,a=e.setIsMessage,n=e.setMessage,s=de(),o=Object(r.useState)(""),i=Object(c.a)(o,2),u=i[0],d=i[1],m=ee("",!1),j=Object(c.a)(m,5),b=j[0],x=j[1],g=(j[2],j[3]),O=j[4],f=ee("",!1),v=Object(c.a)(f,5),w=v[0],y=v[1],N=(v[2],v[3]),S=v[4],C=Object(r.useState)(!1),I=Object(c.a)(C,2),T=I[0],L=I[1];return Object(M.jsx)("div",{className:s.root,children:Object(M.jsxs)(k.a,{className:s.paper,elevation:3,children:[Object(M.jsxs)("form",{onSubmit:function(e){e.preventDefault();var r=Object(oe.loginValidation)({username:b,password:w}).error;r?("username"===r.details[0].context.key?O(!0):S(!0),d(r.details[0].message)):h()({method:"post",baseURL:p,url:"/users/login",data:{username:b,password:w}}).then((function(e){window.localStorage.setItem("token",e.data.user.token);var r=e.data.success;r&&(n({type:"success",text:r.message}),a(!0)),t(!0),L(!0)})).catch((function(e){var t=e.response.data.error;t&&(O(!0),S(!0),n({type:"error",text:t.message}),a(!0))}))},children:[Object(M.jsx)(J.a,{component:"h1",variant:"h3",align:"center",children:"Welcome back!"}),Object(M.jsx)("img",{className:s.image,src:K,alt:"Astronaut and spaceship."}),Object(M.jsx)(J.a,{component:"h2",variant:"h5",align:"center",style:{marginTop:"1rem"},children:"Just log in and you are ready to lunch!"}),Object(M.jsx)(te.a,{autoFocus:!0,required:!0,label:"Username",onChange:x,value:b,variant:"outlined",margin:"normal",fullWidth:!0,placeholder:"Enter your username.",error:g,helperText:g&&u}),Object(M.jsx)(te.a,{required:!0,label:"Password",onChange:y,value:w,type:"password",variant:"outlined",margin:"normal",fullWidth:!0,placeholder:"Enter your password.",error:N,helperText:N&&u}),Object(M.jsx)(D.a,{fullWidth:!0,type:"submit",variant:"contained",color:"primary",style:{marginTop:"0.5rem"},children:"Log in"})]}),T&&Object(M.jsx)(l.a,{to:"/astronauts"})]})})},je=a(98);var be,he=function(){var e=!1,t=window.localStorage.getItem("token");if(t){var a=Object(je.a)(t),n=(new Date).getTime()/1e3;a.exp>n?e=!0:window.localStorage.removeItem("token")}var s=Object(r.useState)(e),o=Object(c.a)(s,2),i=o[0],l=o[1];return[i,l,function(){window.localStorage.removeItem("token"),l(!1)}]},pe=a.p+"static/media/logo3.013cc87e.svg",xe={root:{flexGrow:1,backgroundImage:"url(".concat(pe,")"),backgroundPosition:"center",backgroundSize:"auto 135%",backgroundRepeat:"no-repeat"},title:{width:"80%",maxWidth:"900px",display:"flex",flexDirection:"column",justifyContent:"center",margin:"auto","& a:hover":{transform:"scale(1.1)"}},heading:(be={fontSize:"7rem",color:"white",textShadow:"2px 2px 10px rgba(0,0,0,0.5)"},Object(Z.a)(be,Q("sm"),{fontSize:"4.5rem"}),Object(Z.a)(be,Q("xs"),{fontSize:"3.5rem"}),be),subtitle:{color:"white",fontSize:"2rem",textShadow:"2px 2px 6px rgba(0,0,0,0.5)"},signupButton:{height:"50px",width:"180px",margin:"3rem auto",fontSize:"1.1rem",letterSpacing:"0.3rem",fontWeight:"bold"}},ge=Object(O.a)((function(){return xe}));var Oe=function(){var e=ge();return Object(M.jsx)("div",{className:e.root,children:Object(M.jsxs)("div",{className:e.title,children:[Object(M.jsxs)("h1",{className:e.heading,children:["Know",Object(M.jsx)("br",{}),"your",Object(M.jsx)("br",{}),"astronauts"]}),Object(M.jsx)("p",{className:e.subtitle,children:"Keep records about your astronauts. Fast, easy and simple."}),Object(M.jsx)(D.a,{className:e.signupButton,color:"secondary",variant:"contained",component:q.b,to:"/register",children:"Sign up"})]})})},fe={root:{marginTop:"auto"},footer:{backgroundColor:"#212529"},title:{flexGrow:1},link:{color:"white",margin:"0 3px"}},ve=Object(O.a)((function(){return fe}));var we=function(){var e=ve();return Object(M.jsx)(B.a,{position:"static",className:e.footer,children:Object(M.jsx)(V.a,{children:Object(M.jsxs)(J.a,{variant:"caption",className:e.title,align:"center",children:["\xa9Astronauts. Created by",Object(M.jsx)(q.b,{to:"https://github.com/samueldusek",className:e.link,children:"Samuel Du\u0161ek"}),"with Node.JS, MongoDB a React."]})})})},ye=(a(165),a(99)),Ne=Object(ye.a)({palette:{primary:{main:"#3F3D56"},secondary:{main:"rgba(0, 0, 0, 0.87)"}}}),Se=a(3),ke=["component","isUserLoggedIn"],Ce=function(e){var t=e.component,a=e.isUserLoggedIn,r=Object(Se.a)(e,ke);return Object(M.jsx)(l.b,Object(i.a)(Object(i.a)({},r),{},{render:function(e){return a?Object(M.jsx)(t,Object(i.a)(Object(i.a)({},r),e)):Object(M.jsx)(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Ie=a(233),Te=a(231);function Le(e){return Object(M.jsx)(Te.a,Object(i.a)({elevation:6,variant:"filled"},e))}var Ae=function(e){var t=e.open,a=e.message,r=e.hideAndClearMessage;return Object(M.jsx)("div",{children:Object(M.jsx)(Ie.a,{autoHideDuration:5e3,anchorOrigin:{vertical:"top",horizontal:"center"},open:t,onClose:r,children:Object(M.jsx)(Le,{onClose:r,severity:"error"===a.type?"error":"success",children:a.text})})})},We=a.p+"static/media/logo.638e5f23.svg",De={root:{flexGrow:1},title:{width:"80%",maxWidth:"500px",display:"flex",flexDirection:"column",margin:"auto"},heading:Object(Z.a)({fontSize:"4rem",color:"black"},Q("sm"),{fontSize:"3rem"}),subtitle:Object(Z.a)({color:"black",fontSize:"2rem"},Q("xs"),{fontSize:"1rem"}),image:{width:"100%",marginTop:"2rem"}},qe=Object(O.a)((function(e){return De}));var Ue=function(){var e=qe();return Object(M.jsx)("div",{className:e.root,children:Object(M.jsxs)("div",{className:e.title,children:[Object(M.jsx)("h1",{className:e.heading,children:"It looks like you lost!"}),Object(M.jsx)("p",{className:e.subtitle,children:"Try to click on the rocket."}),Object(M.jsx)("p",{className:e.subtitle,children:"Hopefully, it will help you reach your destination."}),Object(M.jsx)(q.b,{to:"/",children:Object(M.jsx)("img",{src:We,alt:"Spaceship",className:e.image})})]})})},Fe=a(229);var ze=function(){var e=he(!1),t=Object(c.a)(e,3),a=t[0],r=t[1],n=t[2],s=x([],a),o=s.astronauts,u=s.addAstronaut,d=s.deleteAstronaut,m=s.editAstronaut,j=g(!1,""),b=Object(c.a)(j,5),O=b[0],f=b[1],v=b[2],w=b[3],y=b[4];return Object(M.jsx)("div",{className:"App",children:Object(M.jsxs)(Fe.a,{theme:Ne,children:[Object(M.jsx)($,{isUserLoggedIn:a,logout:n}),Object(M.jsxs)(l.d,{children:[Object(M.jsx)(l.b,{exact:!0,path:"/login",render:function(e){return Object(M.jsx)(me,Object(i.a)({setIsUserLoggedIn:r,setIsMessage:v,setMessage:w},e))}}),Object(M.jsx)(l.b,{exact:!0,path:"/register",render:function(){return Object(M.jsx)(le,{setIsMessage:v,setMessage:w})}}),Object(M.jsx)(Ce,{isUserLoggedIn:a,exact:!0,path:"/astronauts",component:_,astronauts:o,deleteAstronaut:function(e){h()({method:"delete",baseURL:p,url:"/astronauts/".concat(e),headers:{jwtToken:window.localStorage.getItem("token")}}).then((function(t){d(e);var a=t.data.success;a&&(w({type:"success",text:a.message}),v(!0))})).catch((function(e){e.response.data.error&&(w({type:"error",text:"Something went wrong. Please try it again."}),v(!0))}))}}),Object(M.jsx)(Ce,{isUserLoggedIn:a,exact:!0,path:"/astronauts/add",component:se,astronauts:o,handleAstronaut:function(e){h()({method:"post",baseURL:p,url:"/astronauts",headers:{jwtToken:window.localStorage.getItem("token")},data:{firstName:e.firstName,lastName:e.lastName,birthday:e.birthday.toISOString(),superpower:e.superpower}}).then((function(t){var a=Object(i.a)(Object(i.a)({},e),{},{_id:t.data.astronaut._id});u(a);var r=t.data.success;r&&(w({type:"success",text:r.message}),v(!0))})).catch((function(e){e.response.data.error&&(w({type:"error",text:"Something went wrong. Please try it again."}),v(!0))}))}}),Object(M.jsx)(Ce,{isUserLoggedIn:a,exact:!0,path:"/astronauts/:id",component:se,astronauts:o,handleAstronaut:function(e,t){h()({method:"put",baseURL:p,url:"/astronauts/".concat(t),headers:{jwtToken:window.localStorage.getItem("token")},data:{firstName:e.firstName,lastName:e.lastName,birthday:e.birthday.toISOString(),superpower:e.superpower}}).then((function(a){var r=Object(i.a)(Object(i.a)({},e),{},{_id:t});m(r);var n=a.data.success;n&&(w({type:"success",text:n.message}),v(!0))})).catch((function(e){var t=e.response.data.error;t&&(w({type:"error",text:t.message}),v(!0))}))}}),Object(M.jsx)(l.b,{exact:!0,path:"/astronauts-2-front-end",render:function(){return Object(M.jsx)(Oe,{})}}),Object(M.jsx)(l.b,{exact:!0,path:"/",render:function(){return Object(M.jsx)(Oe,{})}}),Object(M.jsx)(l.b,{exact:!0,path:"*",render:function(){return Object(M.jsx)(Ue,{})}})]}),Object(M.jsx)(we,{}),O&&Object(M.jsx)(Ae,{hideAndClearMessage:y,open:O,message:f})]})})},Ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,235)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),r(e),n(e),s(e),o(e)}))};o.a.render(Object(M.jsx)(q.a,{children:Object(M.jsx)(n.a.StrictMode,{children:Object(M.jsx)(ze,{})})}),document.getElementById("root")),Ee()},60:function(e,t,a){var r=a(86);e.exports.registerValidation=function(e){return r.object({username:r.string().alphanum().min(2).max(30).required(),email:r.string().email({tlds:{allow:!1}}).required(),password:r.string().min(5).required(),passwordConfirmation:r.ref("password")}).validate(e)},e.exports.loginValidation=function(e){return r.object({username:r.string().alphanum().min(2).max(30).required(),password:r.string().min(5).required()}).validate(e)}},97:function(e,t,a){var r=a(86);e.exports.astronautValidation=function(e){return r.object({firstName:r.string().alphanum().min(1).max(30).required(),lastName:r.string().alphanum().min(1).max(30).required(),birthday:r.date().required(),superpower:r.string().min(1).max(50).required()}).validate(e)}}},[[166,1,2]]]);
//# sourceMappingURL=main.ceed208e.chunk.js.map